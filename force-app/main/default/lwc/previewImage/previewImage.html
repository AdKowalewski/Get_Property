<template>
    <template if:true={file}>
        <c-preview-file-modal
            url={file.downloadUrl}
            file-extension={file.Extension}
        ></c-preview-file-modal>
        <li
            class="
                slds-col
                slds-var-p-vertical_x-small
                slds-small-size_1-of-2
                slds-medium-size_1-of-4
                slds-large-size_1-of-6
            "
        >
            <div class="slds-file slds-file_card slds-has-title" style="width: 14rem">
                <figure>
                    <div class="slds-file__crop slds-file__crop_4-by-3" onclick={filePreview}>
                        <img src={thumbnail} alt={file.title} />
                    </div>
                </figure>
    
                <div class="slds-is-absolute" style="top: 3px; right: 5px; z-index: 10">
                    <lightning-button-menu
                        alternative-text="Show File Menu"
                        variant="border-filled"
                        icon-size="xx-small"
                        data-id={file.Id}
                        onselect={handleSelect}                        
                    >
                        <lightning-menu-item
                            value="default"
                            label="Set as Default"
                        ></lightning-menu-item>
                        <lightning-menu-item
                            value="delete"
                            label="Delete"
                        ></lightning-menu-item>
                    </lightning-button-menu>
                </div>
            </div>
        </li>
    </template>

    <template if:true={showDeleteModal}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <lightning-button-icon icon-name="utility:close"
                        onclick={handleCancel}
                        variant="bare-inverse"
                        class="slds-modal__close"></lightning-button-icon>
                    <h2 id="modal-heading-04" class="slds-text-heading_medium slds-hyphenate">Delete Image</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4">
                    <h2>Are you sure you want to delete this image?</h2>
                </div>
                <footer class="slds-modal__footer">
                    <lightning-button variant="brand"
                        label="Delete"
                        onclick={handleDelete}></lightning-button>
                    <lightning-button variant="neutral"
                        label="Cancel"
                        onclick={handleCancel}></lightning-button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>